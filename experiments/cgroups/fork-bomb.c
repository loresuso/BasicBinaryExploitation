#include <unistd.h>
#include <stdio.h>
#include <errno.h>

/*************************************************************************************
 * 1. install libcgroup1 with apt
 * 2. create a control group: cgcreate -g pids:test. We are dealing with 
 *      the first version of cgroups, so for each subsystem we have a hierarchy
 * 3. cgcreate will create the folder test/ in /sys/fs/cgroup/. cd in there
 * 4. In this example, we limit the number of usable pids for a process in this 
 *      new cgroup. This fork bomb will spawn that maximum number of processes, 
 *      without any harm for the system. Echo a small number in pids.max
 * 5. exec a forkbomb process inside the cgrouop: cgexec -g pids:test ./fork-bomb
 * 6. control with top how many fork-bomb processes were spawned!
 * **********************************************************************************/
int main(){
    while(1){
        int pid = fork();
    }
}